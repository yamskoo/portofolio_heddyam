/* ===============================
   Yamine Portfolio — styles.css
   Dark, modern, mobile-first UI
   =============================== */

   :root{
    --bg:#0b0b12;               /* deep dark */
    --bg2:#0e0b2b;              /* indigo tint */
    --accent:#7c3aed;           /* purple */
    --accent-2:#2563eb;         /* blue */
    --text:#e8e8f0;             /* near white */
    --muted:#9aa0b4;            /* muted */
    --card:#121222;             /* card base */
    --glass:rgba(255,255,255,.06);
    --radius:18px;
    --shadow: 0 10px 30px rgba(0,0,0,.35);
    --nav-h: 60px;
  }
  
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;
    font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
    color:var(--text);
    background:
      radial-gradient(1200px 800px at 20% -10%, rgba(124,58,237,.25), transparent 60%),
      radial-gradient(1000px 600px at 120% 10%, rgba(37,99,235,.22), transparent 55%),
      linear-gradient(180deg, var(--bg2) 0%, var(--bg) 100%);
  }
  
  html, body { 
    overflow-x: hidden; 
    -webkit-text-size-adjust: 100%; 
  }

  .about-section[id]{
    scroll-margin-top: calc(var(--nav-h) + 12px);  /* compense le header sticky */
  }
  
  /* Utilities */
  .container{max-width:1100px; margin:0 auto; padding:20px}
  .center{display:flex; flex-direction:column; align-items:center; justify-content:center; min-height:100vh; text-align:center}
  .glow{ text-shadow: 0 0 22px rgba(124,58,237,.35), 0 0 44px rgba(37,99,235,.25) }
  a{color:inherit}
  
  /* Typography */
  /* Typography */
  h1{
    font-size: clamp(28px, 7vw, 36px);
    line-height: 1.08;
    letter-spacing: -0.3px;
    margin: 0 0 12px;
  }
  h2{font-size:clamp(22px,5vw,28px); margin:0 0 8px}
  p{line-height:1.6}
  .subtitle{margin:0 0 28px; color:var(--muted)}
  
  /* === Emphasis utilities (underline / highlight) === */
  strong{
    font-weight: 800;
    color: #fff;
    text-shadow: 0 0 12px rgba(124,58,237,.18);
  }

  /* Thick accent underline matching theme */
  .u-accent{
    text-decoration-line: underline;
    text-decoration-color: rgba(124,58,237,.85);
    text-decoration-thickness: .22em;
    text-underline-offset: .18em;
    text-decoration-skip-ink: none;
  }

  /* Gradient marker-style highlight */
  .mark{
    background-image: linear-gradient(120deg,
      rgba(124,58,237,.30), rgba(37,99,235,.30));
    background-size: 100% 42%;
    background-position: 0 88%;
    background-repeat: no-repeat;
    border-radius: 6px;
    padding: 0 .06em;
  }

  /* Underline + subtle glow */
  .u-glow{
    text-decoration: underline;
    text-decoration-thickness: .2em;
    text-underline-offset: .2em;
    text-decoration-color: rgba(37,99,235,.85);
    text-shadow: 0 4px 22px rgba(37,99,235,.35);
  }
  
  /* Cards & grids */
  .card{
    background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
    border:1px solid rgba(255,255,255,.08);
    border-radius:var(--radius);
    padding:20px;
    box-shadow:var(--shadow);
    backdrop-filter:saturate(130%) blur(6px);
    transition:transform .28s ease, box-shadow .28s ease, border-color .28s ease;
    text-decoration:none; color:var(--text);
  }
  .card:hover{transform:translateY(-3px); box-shadow:0 16px 40px rgba(0,0,0,.5); border-color:rgba(124,58,237,.35)}
  
  .lang-grid{display:grid; grid-template-columns:repeat(auto-fit,minmax(260px,1fr)); gap:18px; width:100%; max-width:720px}
  .lang{display:flex; align-items:center; gap:16px; text-decoration:none}
  .flag{font-size:28px}
  
  /* ===== Navigation (mobile-first) ===== */
  .nav{
    width:100%;
    box-sizing:border-box;
    display:flex; align-items:center; justify-content:space-between; gap:12px;
    padding:14px 16px; position:sticky; top:0; z-index:100;
    backdrop-filter:saturate(140%) blur(8px);
    background:rgba(10,10,20,.4);
    border-bottom:1px solid rgba(255,255,255,.06);
  }
  .brand{display:flex; align-items:center; gap:10px; font-weight:800; letter-spacing:.3px; min-width:0; flex:1}
  .dot{width:10px; height:10px; border-radius:999px; background:linear-gradient(45deg, var(--accent), var(--accent-2)); box-shadow:0 0 10px rgba(124,58,237,.8)}
  
  /* Mobile menu collapsed by default */
  .menu{
    display:none; flex-direction:column; gap:10px;
    position:fixed; left:12px; right:12px; top:60px;   /* <- key change */
    background:rgba(10,10,20,.97);
    border:1px solid rgba(255,255,255,.12);
    border-radius:14px; padding:12px; box-shadow:var(--shadow);
    z-index:30;
  }
  .menu a{
    color:var(--text); text-decoration:none; opacity:.92;
    padding:10px 12px; border-radius:10px
  }
  .menu a:hover{opacity:1; background:rgba(255,255,255,.06)}
  .menu.open{display:flex}
  .hamburger{
    margin-left:auto; /* pushes button to the right */
    display:inline-flex; align-items:center; justify-content:center;
    font-size:24px; background:transparent; color:var(--text);
    border:1px solid rgba(255,255,255,.18); border-radius:12px; padding:6px 10px
  }
  
  /* ===== Hero & sections ===== */
  .hero{display:grid; grid-template-columns:1fr; gap:20px; padding:32px 20px 18px}
  .kicker{color:var(--muted); letter-spacing:.4px; text-transform:uppercase; font-size:12px}
  .lead{color:#cfd3e6}
  .hero-card{background:var(--glass); border:1px solid rgba(255,255,255,.08); border-radius:var(--radius); padding:22px; box-shadow:var(--shadow)}
  /* Tiles dans la colonne droite du hero */
  .hero-tiles{
    display:grid;
    grid-template-columns: minmax(0,1fr);   /* mobile : 1 colonne */
    gap: 16px;
  }

  /* Égaliser la hauteur des cartes si besoin */
  .hero-tiles .card{
    display:flex; flex-direction:column;
    align-items:flex-start;     /* 🔥 children keep intrinsic width */
    gap:6px;
    height:100%;
  }

  /* Tighter headings & text inside the 4 tiles */
  .hero-tiles h3{ margin:6px 0 6px; font-size:clamp(18px,2.2vw,22px); }
  .hero-tiles p{ margin:0; font-size:15.5px; line-height:1.6; }

  /* Add a bit more separation visually */
  .hero-tiles .card{ border-color: rgba(255,255,255,.10); }

  .hero-tiles .tile::after{ display:none; }

  /* Dès tablette : 2 colonnes (2x2) */
  @media (min-width: 760px){
    .hero-tiles{
      grid-template-columns: repeat(2, minmax(0,1fr));
      gap: 18px;
    }
  }

  .tiles{display:grid; grid-template-columns:1fr; gap:16px; padding:20px}
  .tile{position:relative; overflow:hidden}
  .tile h3{margin:0 0 8px}
  .badge{
    display:inline-flex;            /* size to content */
    align-items:center;
    align-self:flex-start;          /* never stretch */
    width:auto;                     /* no full-width */
    max-width:max-content;          /* shrink-wrap the text */
    height:26px;
    padding:0 10px;
    font-size:12px;
    line-height:1;
    white-space:nowrap;             /* stay on one line */
    border-radius:999px;
    background:linear-gradient(45deg,var(--accent),var(--accent-2));
    box-shadow:0 6px 16px rgba(124,58,237,.35);
  } 
  /* Prevent accidental full-width badges inside tiles */
  .tile .badge{ width:auto !important; }
 
  .tile::after{ 
    content:""; position:absolute; inset:-20% -40% auto auto;
    height:160px; width:160px;
    background:radial-gradient(closest-side, rgba(124,58,237,.3), transparent);
    transform:rotate(25deg)
  } 

  .section{padding:38px 20px}
  .section h2{margin:0 0 6px}
  .section p{color:#cfd3e6}
  
  /* Timeline */
  .timeline{display:grid; gap:16px; margin-top:12px}
  .entry{
    display:grid; gap:6px; padding:18px; border-radius:var(--radius);
    border:1px solid rgba(255,255,255,.08);
    background:linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02))
  }
  .entry .when{font-size:12px; color:var(--muted)}
  .entry .where{font-weight:600}
  
  /* Buttons & links */
  .button{
    display:inline-flex; align-items:center; gap:10px; padding:10px 14px;
    border-radius:12px; text-decoration:none; color:var(--text);
    border:1px solid rgba(255,255,255,.14);
    background:linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.02));
    transition:transform .2s ease, border-color .2s ease
  }
  .button:hover{transform:translateY(-1px); border-color:rgba(124,58,237,.45)}
  a,.button,.card{min-height:44px} /* comfy tap targets */
  
  /* Reveal animation */
  .reveal{opacity:0; transform:translateY(12px); transition:opacity .6s ease, transform .6s ease}
  .reveal.in{opacity:1 !important; transform:none !important}
  
  /* Footer */
  footer{padding:26px 20px; color:var(--muted); text-align:center; border-top:1px solid rgba(255,255,255,.06)}
  
  /* Reduce motion preference */
  @media (prefers-reduced-motion: reduce){
    *{scroll-behavior:auto !important}
    .reveal{transition:none}
  }
  /* ===== ABOUT (Qui suis-je) ===== */
  .about-hero{
    position:relative;
    display:grid;
    grid-template-columns: 1fr;
    gap:24px;
    padding:38px 20px 10px;
    overflow: hidden;
  }

  .about-hero__text .button { align-self:flex-start }

  .about-hero__media{
    display:flex; justify-content:center; align-items:center;
    padding:10px;
  }
  .about-hero__media,
  .about-hero__media * {
    pointer-events: none;
  }

  .photo-ring{
    position:relative; width:min(70vw, 360px); aspect-ratio:1/1;
    border-radius:50%;
    padding:8px;
    background:linear-gradient(135deg, rgba(124,58,237,.6), rgba(37,99,235,.6));
    box-shadow:0 10px 40px rgba(0,0,0,.5);
  }
  .photo-ring img{
    width:100%; height:100%; object-fit:cover; border-radius:50%;
    display:block; filter:saturate(108%);
  }

  /* petits “dessins” de fond (ornements) */
  .ornament{
    position:absolute; pointer-events:none; z-index:-1;
    width:300px; height:300px; border-radius:32px;
    background: radial-gradient(closest-side, rgba(124,58,237,.28), transparent 70%);
    filter: blur(8px);
  }
  .ornament.o1{ top:-40px; left:-60px }
  .ornament.o2{ bottom:-60px; right:-40px }

  /* sections alternées texte/image */
  .about-section{ padding:28px 20px }
  .about-grid{
    display:grid; gap:18px; align-items:center;
    grid-template-columns: 1fr;
  }
  .about-grid .media img{
    width:100%; border-radius:18px; display:block;
    border:1px solid rgba(255,255,255,.08);
    box-shadow: var(--shadow);
  }
  /* Inversion d'ordre (mobile & desktop) */
  .about-grid.flip .content { order: 1; }
  .about-grid.flip .media   { order: 2; }

  /* Cadre commun plus compact */
  .media .frame{
    border-radius:18px;
    border:1px solid rgba(255,255,255,.08);
    box-shadow: var(--shadow);
    overflow:hidden;
    width:100%;
    max-width: 560px;                 /* limite largeur */
    margin-inline:auto;
  }

  /* Ratios utilitaires (tu appliques une de ces classes à .frame) */
  .ar-square   { aspect-ratio: 1 / 1;   }
  .ar-land     { aspect-ratio: 16 / 9;  }
  .ar-port     { aspect-ratio: 3 / 4;   }
  .ar-tall     { aspect-ratio: 9 / 16;  }

  /* L’image remplit le cadre, moins haute qu’avant = plus compact */
  .media .frame img{
    width:100%; height:100%;
    object-fit: cover;
    display:block;
    filter:saturate(108%);
  }

  /* Option dynamique: masque organique (“blob”) pour varier sans changer la photo */
  .blob {
    clip-path: path("M0.74,0.54 C0.64,0.86 0.37,1 0.15,0.86 -0.06,0.72 0.01,0.38 0.17,0.17 0.33,-0.05 0.67,-0.07 0.83,0.12 0.99,0.32 0.84,0.23 0.74,0.54 Z");
  }

  .about-section .max{ max-width:900px; margin:0 auto }
  .about-section[id]{
    scroll-margin-top: calc(var(--nav-h) + 12px);
  }

  /* galerie horizontale */
  .about-gallery{
    display:grid; grid-auto-flow:column; grid-auto-columns: minmax(200px, 1fr);
    gap:12px; overflow-x:auto; padding:12px 20px 4px;
    scroll-snap-type:x mandatory;
  }
 
  .about-gallery figure{ margin:0; scroll-snap-align:start }
  .about-gallery img{
    display:block; width:100%; height:180px; object-fit:cover; border-radius:16px;
    border:1px solid rgba(255,255,255,.08);
  }

  .media .frame { transition: transform .4s ease; }
  .media .frame:hover { transform: translateY(-2px) scale(1.01); }

  /* Sur desktop, garde 2 colonnes mais avec contenu à gauche, image à droite */
  @media (min-width:760px){
    .about-grid.flip{
      grid-template-columns: 1fr 1fr;
    }
  }
  
  /* Desktop enhancements */
  @media (min-width:760px){
    .about-hero{
      grid-template-columns: 1.1fr .9fr;
      align-items:center; gap:28px;
      padding:56px 28px 10px;
    }
    .about-section{ padding:42px 28px }
    .about-grid{ grid-template-columns: 1fr 1fr; gap:24px }
    .about-gallery img{ height:220px }
  }
  /* ====== Breakpoints: enhance for larger screens ====== */
  @media (min-width:760px){
    .menu{position:static; display:flex; flex-direction:row; background:transparent; border:none; padding:0; box-shadow:none}
    .hamburger{display:none}
    .hero{
      display:grid;
      grid-template-columns: 1.2fr .8fr;   /* left text / right tiles */
      align-items:start;
      gap: 28px;
      padding:56px 28px 28px;
    }
    h1{font-size: clamp(32px, 4.5vw, 48px);}  /* bigger on desktop */
    .tiles{grid-template-columns:repeat(2,1fr); gap:18px; padding:28px}
  }
  
  @media (min-width:1100px){
    .tiles{grid-template-columns:repeat(3,1fr)}
  }

  @media (max-width:380px){
    .badge{ height:24px; padding:0 8px; font-size:11px; }
  }

  /* Conteneur + masque doux sur les bords */
  .gallery-wrap{ position:relative; padding:12px 20px 10px; }
  .about-gallery{
    display:grid; grid-auto-flow:column; grid-auto-columns:minmax(200px,1fr);
    gap:12px; overflow-x:auto; padding:0; scroll-snap-type:x mandatory;
    mask-image: linear-gradient(90deg, transparent 0, #000 14px, #000 calc(100% - 14px), transparent 100%);
  }
  .about-gallery figure{ margin:0; scroll-snap-align:start }
  .about-gallery img{
    display:block; width:100%; height:180px; object-fit:cover; border-radius:16px;
    border:1px solid rgba(255,255,255,.08);
  }

  /* Flèches */
  .g-nav{
    position:absolute; top:50%; transform:translateY(-50%);
    width:38px; height:38px; border-radius:999px; border:1px solid rgba(255,255,255,.18);
    background:rgba(10,10,20,.55); color:#fff; font-size:22px;
    display:flex; align-items:center; justify-content:center; cursor:pointer;
    backdrop-filter: blur(6px) saturate(120%); box-shadow:0 6px 18px rgba(0,0,0,.35);
  }
  .g-nav.left{ left:10px; } .g-nav.right{ right:10px; }
  .g-nav[disabled]{ opacity:.35; cursor:default; }

  /* Indication sous la galerie */
  .gallery-hint{
    margin-top:8px; text-align:center; color:var(--muted); font-size:14px;
    display:flex; align-items:center; justify-content:center; gap:8px;
  }
  .gallery-hint .chev{ display:inline-block; animation:nudge 1.2s ease-in-out infinite; }
  .gallery-hint .chev:first-child{ animation-direction:reverse; }
  @keyframes nudge{ 0%,100%{transform:translateX(0);opacity:.7} 50%{transform:translateX(6px);opacity:1} }

  /* Desktop: apparition au survol */
  @media (hover:hover){
    .g-nav{ opacity:0; transition:opacity .2s ease; }
    .gallery-wrap:hover .g-nav{ opacity:1; }
  }

  /* Mobile/tactile: flèches toujours visibles, un peu plus grandes et cliquables */
  @media (hover:none){
    .g-nav{
      opacity:0.95;
      width:44px; height:44px;        /* + confort tactile */
      font-size:24px;
    }
  }

  /* Assure que l’animation du hint tourne aussi sur mobile */
  .gallery-hint .chev{
    display:inline-block;
    animation:nudge 1.2s ease-in-out infinite;
  }
  @keyframes nudge{
    0%,100% { transform: translateX(0); opacity:.7; }
    50%     { transform: translateX(6px); opacity:1; }
  }

  /* === Rail de timeline animé === */
  /* =======================================================
   RAIL + DOTS (alignés), pas de dépassement, spacing serré
   ======================================================= */

  /* variables pour tout tenir calé */
  .timeline--rail {
    --rail-x: 18px;          /* position horizontale du rail */
    --rail-top: 26px;        /* décalage haut du rail (évite le dépassement) */
    --rail-bottom: 12px;     /* décalage bas du rail */
    --entry-pad-left: 48px;  /* padding-left des .entry (place pour rail + dot) */
    --dot-left: 12px;        /* décalage du dot depuis le bord de l'entry */
    --dot-top: 0.52em;       /* hauteur du dot sur la ligne de texte (0.50–0.58 au besoin) */

    isolation: isolate;      /* z-index propre */
    position: relative;
    padding-top: 8px;        /* un peu d’air au dessus */
  }

  /* RAIL : ne dépasse plus (inset top/bottom), et reste derrière les cartes */
  .timeline--rail::before{
    content:"";
    position:absolute;
    inset: var(--rail-top) auto var(--rail-bottom) var(--rail-x);
    width: 2px; /* rail fin */
    background: linear-gradient(180deg, var(--accent), var(--accent-2));
    border-radius: 1px;
    transform: scaleY(0);
    transform-origin: top;
    opacity: .95;
    z-index: 0; /* rail derrière les cartes */
  }
  .section.reveal.in .timeline--rail::before{
    animation: railGrow 820ms cubic-bezier(.22,.9,.24,1) forwards;
  }
  @keyframes railGrow{ to { transform: scaleY(1); } }

  /* Les cartes (au-dessus du rail visuellement) */
  .timeline--rail .entry{
    position: relative;
    z-index: 1;
    padding-left: var(--entry-pad-left);
    background: linear-gradient(180deg, rgba(255,255,255,.045), rgba(255,255,255,.02));
    transition: transform .28s ease, box-shadow .28s ease, border-color .28s ease;
  }

  /* On désactive l’ancien dot d’entrée (on “pinne” les titres) */
  .timeline--rail .entry::before{ content: none; }

  /* DOTS sur chaque élément .pin (where + h4…) */
  .timeline--rail .pin{ position: relative; }

  /* point aligné sur le rail, centré sur la ligne du titre */
  .timeline--rail .pin::before{
    content:"";
    position:absolute;
    left: calc(-1 * var(--entry-pad-left) + var(--dot-left)); /* aligné au rail */
    top: var(--dot-top);                                       /* centre vertical du texte */

    width: 10px;
    height: 10px;
    border-radius: 50%;
    background: #7c3aed; /* violet plein */
    border: 1.5px solid rgba(255,255,255,.95); /* fin liseré blanc */
    box-shadow:
      0 0 10px rgba(124,58,237,.55),  /* glow violet */
      0 0 22px rgba(124,58,237,.35);  /* halo doux */

    transform: scale(.7);
    opacity: 0;
  }
  .timeline--rail .entry.in .pin::before{
    animation: dotPop .5s cubic-bezier(.2,.8,.2,1) .08s forwards;
  }
  @keyframes dotPop{
    50% { transform: scale(1.15); opacity:1; }
    100%{ transform: scale(1);    opacity:1; }
  }

  /* Hover premium */
  .timeline--rail .entry:hover{
    transform: translateY(-2px);
    box-shadow: 0 18px 46px rgba(0,0,0,.48);
    border-color: rgba(124,58,237,.38);
  }

  /* Stagger (si fx-stagger + JS) */
  .fx-stagger .entry > *{ opacity:0; transform: translateY(10px); }
  .fx-stagger .entry.in > *{
    animation: blockIn .52s ease forwards;
    animation-delay: calc(var(--i, 0) * 60ms);
  }
  @keyframes blockIn{ to { opacity:1; transform:none; } }

  /* Titres: souligné animé à la longueur réelle du texte */
  .entry h4{
    position:relative; 
    display:inline-block;
    margin: 8px 0 2px;     /* marge bas resserrée */
    padding-bottom: 2px;
  }

  /* neutralise toute ancienne version de souligné via ::after */
  .entry h4.u-accent::after,
  .timeline--rail .entry h4.u-accent::after{ content:none !important; }

  /* souligné via background-size (suivant la largeur du texte) */
  .timeline--rail .entry h4.u-accent{
    text-decoration: none !important;
    display: inline !important;       /* largeur = texte uniquement */
    width: auto !important;
    max-width: max-content !important;

    background-image: linear-gradient(90deg,
      rgba(124,58,237,.95), rgba(37,99,235,.95));
    background-repeat: no-repeat;
    background-position: 0 100%;
    background-size: 0 0.22em;        /* caché par défaut */
    transition: background-size .48s cubic-bezier(.22,.9,.24,1);
  }
  .timeline--rail .entry.in h4.u-accent{
    background-size: 100% 0.22em;     /* s’étend juste sous le texte */
  }

  /* Espaces texte resserrés sous les sous-titres */
  .entry p,
  .entry ul{ 
    margin-top: 0;          /* colle le texte au h4 */
  }
  .entry ul { margin-bottom: 10px; }
  .entry ul li { margin: 4px 0; }

  /* Un poil plus d’espace entre le badge et l’image */
  .entry .badge{ margin-bottom: 12px; }
  .entry .media{ margin-top: 4px; }
